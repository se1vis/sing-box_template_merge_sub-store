proxy-providers:
  LongLight:
    type: http
    url: "<你的订阅链接>"
    path: ./proxy_providers/LongLight.yaml
    interval: 3600
    proxy: DIRECT
    size-limit: 0

#统一延迟测速和tcp并发
unified-delay: true
tcp-concurrent: true
#dns配置
dns:
  enable: true
  use-hosts: true
  use-system-hosts: true
  respect-rules: true
  nameserver:
    - 1.1.1.1
    - 8.8.8.8
  proxy-server-nameserver:
    - 119.29.29.29
    - 114.114.114.114
  nameserver-policy:
    "+.cn":
      - 119.29.29.29
      - 114.114.114.114
    "rule-set:cnsite":
      - 119.29.29.29
      - 114.114.114.114
  enhanced-mode: fake-ip
  fake-ip-range: 11.0.0.0/16
  fake-ip-range6: 3ffe::/16
  fake-ip-filter:
    - "+.ileidian.com"
    #本地网络及保留域名
    - "+.lan"
    - "+.local"
    - "+.localhost"
    - "+.localdomain"
    - "+.home.arpa"
    - "+.invalid"
    - "+.miwifi.com"
    - "+.msftconnecttest.com"
    - "+.msftncsi.com"
    #NTP 时间同步服务
    - "+.pool.ntp.org"
    - "time.*.com"
    - "time.*.gov"
    - "time.*.edu.cn"
    - "time.*.apple.com"
    - "time-ios.apple.com"
    - "ntp.*.com"
    - "*.ntp.org.cn"
    - "*.time.edu.cn"
    #STUN 服务
    - "+.stun.*.*"
    - "+.stun.*.*.*"
    - "+.stun.*.*.*.*"
    - "+.stun.*.*.*.*.*"
    - turn.cloudflare.com
    #Google
    - "lens.l.google.com"
    #米家物联网
    - "Mijia Cloud"
    #快捷登录
    - "graph.qq.com"
    - "+.ptlogin2.qq.com"
    #cn地址
    - "+.cn"
    - "rule-set:cnsite"

proxy-groups:
  #规则匹配组
  - name: Default
    type: select
    proxies: [Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Orz-3/mini/refs/heads/master/Color/Kuai.png
  - name: Auto
    type: url-test
    url: https://www.gstatic.com/generate_204
    interval: 300
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Speedtest.png
  - name: Relay
    type: select
    proxies: [DIRECT]
    use: [LongLight]
    exclude-filter: "Relay"
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/TestFlight.png
  - name: PayPal
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/PayPal.png
  - name: AI-Service
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/ChatGPT.png
  - name: TikTok
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/TikTok.png
  - name: Streaming-Media
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Netflix.png
  - name: Telegram
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Telegram.png
  - name: Instagram
    type: select
    proxies: [Default, Auto]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Instagram.png
  - name: Emby
    type: select
    proxies: [Default, Auto, DIRECT]
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Emby.png
  - name: us-auto
    type: url-test
    url: https://www.gstatic.com/generate_204
    filter: (?i)美|us|unitedstates|united states
    tolerance: 20
    interval: 300
    proxies: []
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/United_States.png
  - name: japan-auto
    type: url-test
    url: https://www.gstatic.com/generate_204
    filter: (?i)日|jp|japan
    tolerance: 20
    interval: 300
    proxies: []
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Japan.png
  - name: tw-auto
    type: url-test
    url: https://www.gstatic.com/generate_204
    filter: (?i)台|tw|taiwan
    tolerance: 20
    interval: 300
    proxies: []
    use: [LongLight]
    icon: https://raw.githubusercontent.com/Koolson/Qure/refs/heads/master/IconSet/Color/Korea.png

rule-providers:
  cnip:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/cn.mrs"
    path: ./ruleset/cnip.mrs
    interval: 86400
  cnsite:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/cn.mrs"
    path: ./ruleset/cnsite.mrs
    interval: 86400
  cngame:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-games-!cn@cn.mrs"
    path: ./ruleset/cngame.mrs
    interval: 86400
  gfw:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/gfw.mrs"
    path: ./ruleset/gfw.mrs
    interval: 86400
  aiservice:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-ai-!cn.mrs"
    path: ./ruleset/aiservice.mrs
    interval: 86400
  paypal:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/paypal.mrs"
    path: ./ruleset/paypal.mrs
    interval: 86400
  tiktok:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/tiktok.mrs"
    path: ./ruleset/tiktok.mrs
    interval: 86400
  telegramsite:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/telegram.mrs"
    path: ./ruleset/telegramsite.mrs
    interval: 86400
  telegramip:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/telegram.mrs"
    path: ./ruleset/telegramip.mrs
    interval: 86400
  instagram:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/instagram.mrs"
    path: ./ruleset/instagram.mrs
    interval: 86400
  netflixsite:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/netflix.mrs"
    path: ./ruleset/netflixsite.mrs
    interval: 86400
  netflixip:
    type: http
    behavior: ipcidr
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geoip/netflix.mrs"
    path: ./ruleset/netflixip.mrs
    interval: 86400
  disney:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/disney.mrs"
    path: ./ruleset/disney.mrs
    interval: 86400
  hbo:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/hbo.mrs"
    path: ./ruleset/hbo.mrs
    interval: 86400
  hulu:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/hulu.mrs"
    path: ./ruleset/hulu.mrs
    interval: 86400
  emby:
    type: http
    behavior: domain
    format: mrs
    url: "https://github.com/MetaCubeX/meta-rules-dat/raw/refs/heads/meta/geo/geosite/category-emby.mrs"
    path: ./ruleset/emby.mrs
    interval: 86400

rules:
  #个人小众需求
  - DST-PORT,5201,DIRECT
  - DOMAIN-SUFFIX,ileidian.com,DIRECT
  - DOMAIN-SUFFIX,ghfast.top,DIRECT
  - DOMAIN-SUFFIX,ottiptv.cc,DIRECT
  - DOMAIN-SUFFIX,services.googleapis.cn,Default
  #分流规则
  - DOMAIN-SUFFIX,uhdnow.com,Emby
  - RULE-SET,emby,Emby
  - RULE-SET,paypal,PayPal
  - RULE-SET,aiservice,AI-Service
  - RULE-SET,tiktok,TikTok
  - RULE-SET,telegramsite,Telegram
  - RULE-SET,instagram,Instagram
  - RULE-SET,netflixsite,Streaming-Media
  - RULE-SET,disney,Streaming-Media
  - RULE-SET,hbo,Streaming-Media
  - RULE-SET,hulu,Streaming-Media
    #以下均是核心规则
  - RULE-SET,cngame,DIRECT
  - RULE-SET,gfw,Default
    #ip规则置下减少dns查询
  - RULE-SET,telegramip,Telegram
  - RULE-SET,netflixip,Streaming-Media
  - RULE-SET,cnip,DIRECT
    #代理规则
  - MATCH,Default
